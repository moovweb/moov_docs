<body>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module-bufferStream-BufferStream.html">BufferStream</a><ul class='methods'><li data-type='method'><a href="module-bufferStream-BufferStream.html#_read">_read</a></li></ul></li><li><a href="module-bundler-Bundler.html">Bundler</a><ul class='methods'><li data-type='method'><a href="module-bundler-Bundler.html#bundle">bundle</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-bufferStream.html">bufferStream</a></li><li><a href="module-bundler.html">bundler</a></li><li><a href="module-moov_bundler.html">moov_bundler</a><ul class='methods'><li data-type='method'><a href="module-moov_bundler.html#.bundle">bundle</a></li><li data-type='method'><a href="module-moov_bundler.html#.watch">watch</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">moov_bundler.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

/**
 * @module moov_bundler
 */

var path = require('path'),
    chokidar = require('chokidar'),
    bundler = require('./bundler.js'),
    options = {
        scriptDir: path.resolve(process.cwd(), 'scripts'),
        tmpDir: path.resolve(process.cwd(), 'tmp'),
        entry: 'index.js',
        output: 'moov_main.js'
    },
    projBundler = new bundler(options),
    watcher;

function reBundle(filename){
    if (path.basename(filename) !== options.output &amp;&amp; path.extname(filename) === '.js') {
        projBundler.bundle();
    }
}

/**
 * Watch files.
 */
exports.watch = function(){
    watcher = chokidar.watch(options.scriptDir, {persistence: true});
    watcher.on('add', reBundle)
        .on('change', reBundle)
        .on('unlink', reBundle)
        .on('addDir', reBundle)
        .on('unlinkDir', reBundle);
};

/**
 * Bundle files.
 */
exports.bundle = function(){
    projBundler.bundle();
};
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated at Wed Oct 07 2015 14:26:31 GMT-0700 (PDT)
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
