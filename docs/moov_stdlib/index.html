<body>

<div data-section="accordion" id="content-nav">
  <section>
      <ul class="doc-sidebar" data-section-content id="content-sidebar"><div data-section="accordion"><section class="active"><a href="#" class="module-one" data-section-title>Namespaces</a><ul data-section-content><div data-section='accordion'><section class='active'><a href="fns" class="" data-section-title>fns</a><ul class='methods' data-section-content><li data-type='method'><a href="fns#.absolutize">.absolutize()</a></li><li data-type='method'><a href="fns#.absolutizeSrcs">.absolutizeSrcs()</a></li><li data-type='method'><a href="fns#.activeLayers">.activeLayers()</a></li><li data-type='method'><a href="fns#.addAssets">.addAssets()</a></li><li data-type='method'><a href="fns#.addCanonicalTag">.addCanonicalTag()</a></li><li data-type='method'><a href="fns#.addCookie">.addCookie()</a></li><li data-type='method'><a href="fns#.assert">.assert()</a></li><li data-type='method'><a href="fns#.asset">.asset()</a></li><li data-type='method'><a href="fns#.cleanMobileMetaTags">.cleanMobileMetaTags()</a></li><li data-type='method'><a href="fns#.export">.export()</a></li><li data-type='method'><a href="fns#.getPageType">.getPageType()</a></li><li data-type='method'><a href="fns#.handleRobots">.handleRobots()</a></li><li data-type='method'><a href="fns#.highlightDevelopment">.highlightDevelopment()</a></li><li data-type='method'><a href="fns#.highlightPreview">.highlightPreview()</a></li><li data-type='method'><a href="fns#.init$">.init$()</a></li><li data-type='method'><a href="fns#.insertDnsPrefetch">.insertDnsPrefetch()</a></li><li data-type='method'><a href="fns#.insertSubresource">.insertSubresource()</a></li><li data-type='method'><a href="fns#.isRobots">.isRobots()</a></li><li data-type='method'><a href="fns#.layer">.layer()</a></li><li data-type='method'><a href="fns#.layerNot">.layerNot()</a></li><li data-type='method'><a href="fns#.moveStylesAboveScripts">.moveStylesAboveScripts()</a></li><li data-type='method'><a href="fns#.moveStylesToHead">.moveStylesToHead()</a></li><li data-type='method'><a href="fns#.onDevelopment">.onDevelopment()</a></li><li data-type='method'><a href="fns#.perfectProxy">.perfectProxy()</a></li><li data-type='method'><a href="fns#.queryLayerText">.queryLayerText()</a></li><li data-type='method'><a href="fns#.relocateScripts">.relocateScripts()</a></li><li data-type='method'><a href="fns#.removeAllStyles">.removeAllStyles()</a></li><li data-type='method'><a href="fns#.removeDesktopJs">.removeDesktopJs()</a></li><li data-type='method'><a href="fns#.removeDesktopMobileIcon">.removeDesktopMobileIcon()</a></li><li data-type='method'><a href="fns#.removeHtmlComments">.removeHtmlComments()</a></li><li data-type='method'><a href="fns#.rewriteAspNetScripts">.rewriteAspNetScripts()</a></li><li data-type='method'><a href="fns#.rewriteJsSrcs">.rewriteJsSrcs()</a></li><li data-type='method'><a href="fns#.rewriteLink">.rewriteLink()</a></li><li data-type='method'><a href="fns#.rewriteLinks">.rewriteLinks()</a></li><li data-type='method'><a href="fns#.rewriteToProxy">.rewriteToProxy()</a></li><li data-type='method'><a href="fns#.sass">.sass()</a></li><li data-type='method'><a href="fns#.scoped$">.scoped$()</a></li><li data-type='method'><a href="fns#.setPageType">.setPageType()</a></li><li data-type='method'><a href="fns#.slashPath">.slashPath()</a></li></ul></section></div><div data-section='accordion'><section class='active'><a href="headers" class="" data-section-title>headers</a><ul class='methods' data-section-content><li data-type='method'><a href="headers#.method">method</a></li><li data-type='method'><a href="headers#.path">path</a></li><li data-type='method'><a href="headers#.statusCode">statusCode</a></li><li data-type='method'><a href="headers#.statusText">statusText</a></li><li data-type='method'><a href="headers#.versionMinor">versionMinor</a></li><li data-type='method'><a href="headers#.addHeader">.addHeader()</a></li><li data-type='method'><a href="headers#.header">.header()</a></li><li data-type='method'><a href="headers#.removeAllHeaders">.removeAllHeaders()</a></li><li data-type='method'><a href="headers#.removeHeader">.removeHeader()</a></li></ul></section></div></ul></section></div><div data-section="accordion"><section class="active"><a href="#" class="module-one" data-section-title>Global</a><ul data-section-content><li><a href="global#breakpoint">breakpoint</a></li><li><a href="global#tag">tag</a></li><li><a href="global#txt">txt</a></li></ul></section></div></ul>
  </section>
</div>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>moov_stdlib</h1><p>A small library of functions for efficiently manipulating HTML.</p>
<h2>Introduction</h2><p>This module contains the critical functions used by Moovweb projects to
transform the web. It provides the <code>fns</code> object used to organize the DOM within
the Moovweb Node Environment. A version of moov_stdlib is required for MoovJS
projects to run, and the version to be used by a given project can be specified
in that project's package.json file.</p>
<h2>Documentation</h2><p>Documentation examples will reference method calls as part of the <code>fns</code>
namespace, and any associated HTML input and output is explicitly specified in
the examples' comments.</p>
<h2>Development</h2><h3>Quick Start</h3><p>After entering your project's directory, you can install your required
dependencies locally with:</p>
<pre class="prettyprint source"><code>$ mv .npmrc.example .npmrc
$ npm install</code></pre><h3>Usage</h3><p>You will not need to instantiate the moov_stdlib module in your MoovJS projects
directly; this is done at the sandbox level inside the Node server that will be
running your project code. For running the module locally or in a terminal, a
context object can be passed to the constructor to simulate the environment and
headers of an incoming http request. See test/fixed_job.json for an example
context file.</p>
<p>Example:</p>
<pre class="prettyprint source"><code>const moov_stdlib = require(&quot;moov_stdlib&quot;)(ctx);</code></pre><p>This is currently done at the sandbox level and exposed as the <code>fns</code> object when
running code on the Moovweb Cloud.</p>
<p>The following examples will refer to <code>fns</code>, which is effectively an interface to
the <code>module.exports</code> of the moov_stdlib module.</p>
<h4>$</h4><p><code>init$</code> exposes the global $ function, which can be used to select nodes from
the root scope, no matter where you are in your code. You'll generally want to
avoid this (since it signifies traversal from the root) - you should instead
utilize the <code>$html</code>, <code>$head</code>, and <code>$body</code> globals.</p>
<h4>headers</h4><p>An interface for adding and removing headers from the current request.</p>
<pre class="prettyprint source"><code>headers.header(key, val);
headers.addHeader(key, val);
headers.removeHeader(key);</code></pre><h4>fns</h4><p>Within your MoovJS project, stdlib methods are invoked using the <code>fns</code>
namespace.</p>
<p>Example:</p>
<pre class="prettyprint source"><code>fns.absolutizeSrcs();</code></pre><h3>Tests</h3><p>To run the test suite, enter the following command in your Terminal:</p>
<pre class="prettyprint source"><code>$ npm test</code></pre><h3>Run Locally via Node CLI</h3><p>Optionally, to run this module from inside the node CLI on its own, you can
require the main.js file explicitly via:</p>
<pre class="prettyprint source"><code>node --harmony
...
> var moov_stdlib = require(&quot;./main.js&quot;);</code></pre></article>
    </section>






</div>

<br class="clear">

<footer>
    <i>Last updated Thu Sep 29 2016 18:11:23 GMT+0000 (UTC)</i>
</footer>

<script>prettyPrint();</script>
</body>